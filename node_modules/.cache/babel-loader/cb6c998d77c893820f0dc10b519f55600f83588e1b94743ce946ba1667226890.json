{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport { isFunc } from './util';\nimport { warn } from './debug';\nimport Locale from '../../modules/locale';\nvar stringRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g;\nvar quoteRe = /['\"]/g;\nvar INVALID_INDEX = -1;\nfunction format(string) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return string.replace(stringRE, function (match, group1, index) {\n    var helpersArr = group1.split('|').slice(1).map(function (_) {\n      return _.trim();\n    });\n    var hasHelpers = helpersArr.length;\n    var result = config;\n    if (hasHelpers) {\n      helpersArr.forEach(function (helperString) {\n        var _resolveHelperFnStrin = resolveHelperFnString(helperString),\n          fnName = _resolveHelperFnStrin.fnName,\n          args = _resolveHelperFnStrin.args;\n        args.unshift(result);\n        /* istanbul ignore else */\n        if (isFunc(Locale.helpers[fnName])) {\n          result = Locale.helpers[fnName].apply(null, args);\n        } else {\n          warn(\"A helper function named \\\"\".concat(fnName, \"\\\" is not registered, \") + \"please register it by Validator.addHelper()\");\n          result = '';\n        }\n      });\n    }\n    return result;\n  });\n}\nfunction resolveHelperFnString(helperString) {\n  var leftBracketsIndex = helperString.indexOf('(');\n  var rightBracketsIndex = helperString.indexOf(')');\n  var fnName = '';\n  var args = [];\n  /* istanbul ignore if */\n  if (leftBracketsIndex === INVALID_INDEX) {\n    args = [];\n    fnName = helperString;\n  } else if (leftBracketsIndex !== INVALID_INDEX && rightBracketsIndex !== INVALID_INDEX) {\n    var argsStr = helperString.slice(leftBracketsIndex + 1, rightBracketsIndex);\n    args = argsStr.split(',').map(function (_) {\n      return _.trim().replace(quoteRe, '');\n    });\n    fnName = helperString.slice(0, leftBracketsIndex);\n  }\n  return {\n    fnName: fnName,\n    args: args\n  };\n}\nexport default format;","map":{"version":3,"names":["isFunc","warn","Locale","stringRE","quoteRe","INVALID_INDEX","format","string","config","arguments","length","undefined","replace","match","group1","index","helpersArr","split","slice","map","_","trim","hasHelpers","result","forEach","helperString","_resolveHelperFnStrin","resolveHelperFnString","fnName","args","unshift","helpers","apply","concat","leftBracketsIndex","indexOf","rightBracketsIndex","argsStr"],"sources":["C:/Users/fu_71/OneDrive/Desktop/fitness/frontend/node_modules/cube-ui/src/common/helpers/string-template.js"],"sourcesContent":["import { isFunc } from './util'\nimport { warn } from './debug'\nimport Locale from '../../modules/locale'\nconst stringRE = /\\{\\{((?:.|\\n)+?)\\}\\}/g\nconst quoteRe = /['\"]/g\nconst INVALID_INDEX = -1\n\nfunction format (string, config = '') {\n  return string.replace(stringRE, (match, group1, index) => {\n    const helpersArr = group1.split('|').slice(1).map(_ => _.trim())\n    const hasHelpers = helpersArr.length\n    let result = config\n\n    if (hasHelpers) {\n      helpersArr.forEach((helperString) => {\n        let { fnName, args } = resolveHelperFnString(helperString)\n        args.unshift(result)\n        /* istanbul ignore else */\n        if (isFunc(Locale.helpers[fnName])) {\n          result = Locale.helpers[fnName].apply(null, args)\n        } else {\n          warn(`A helper function named \"${fnName}\" is not registered, ` +\n               `please register it by Validator.addHelper()`)\n          result = ''\n        }\n      })\n    }\n\n    return result\n  })\n}\n\nfunction resolveHelperFnString (helperString) {\n  const leftBracketsIndex = helperString.indexOf('(')\n  const rightBracketsIndex = helperString.indexOf(')')\n  let fnName = ''\n  let args = []\n  /* istanbul ignore if */\n  if (leftBracketsIndex === INVALID_INDEX) {\n    args = []\n    fnName = helperString\n  } else if (leftBracketsIndex !== INVALID_INDEX && rightBracketsIndex !== INVALID_INDEX) {\n    const argsStr = helperString.slice(leftBracketsIndex + 1, rightBracketsIndex)\n    args = argsStr.split(',').map(_ => _.trim().replace(quoteRe, ''))\n    fnName = helperString.slice(0, leftBracketsIndex)\n  }\n  return { fnName, args }\n}\n\nexport default format\n"],"mappings":";;;;;;;;;;AAAA,SAASA,MAAM,QAAQ,QAAQ;AAC/B,SAASC,IAAI,QAAQ,SAAS;AAC9B,OAAOC,MAAM,MAAM,sBAAsB;AACzC,IAAMC,QAAQ,GAAG,uBAAuB;AACxC,IAAMC,OAAO,GAAG,OAAO;AACvB,IAAMC,aAAa,GAAG,CAAC,CAAC;AAExB,SAASC,MAAMA,CAAEC,MAAM,EAAe;EAAA,IAAbC,MAAM,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAClC,OAAOF,MAAM,CAACK,OAAO,CAACT,QAAQ,EAAE,UAACU,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAK;IACxD,IAAMC,UAAU,GAAGF,MAAM,CAACG,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACC,IAAI,CAAC,CAAC;IAAA,EAAC;IAChE,IAAMC,UAAU,GAAGN,UAAU,CAACN,MAAM;IACpC,IAAIa,MAAM,GAAGf,MAAM;IAEnB,IAAIc,UAAU,EAAE;MACdN,UAAU,CAACQ,OAAO,CAAC,UAACC,YAAY,EAAK;QACnC,IAAAC,qBAAA,GAAuBC,qBAAqB,CAACF,YAAY,CAAC;UAApDG,MAAM,GAAAF,qBAAA,CAANE,MAAM;UAAEC,IAAI,GAAAH,qBAAA,CAAJG,IAAI;QAClBA,IAAI,CAACC,OAAO,CAACP,MAAM,CAAC;QACpB;QACA,IAAIvB,MAAM,CAACE,MAAM,CAAC6B,OAAO,CAACH,MAAM,CAAC,CAAC,EAAE;UAClCL,MAAM,GAAGrB,MAAM,CAAC6B,OAAO,CAACH,MAAM,CAAC,CAACI,KAAK,CAAC,IAAI,EAAEH,IAAI,CAAC;QACnD,CAAC,MAAM;UACL5B,IAAI,CAAC,6BAAAgC,MAAA,CAA4BL,MAAM,2EACW,CAAC;UACnDL,MAAM,GAAG,EAAE;QACb;MACF,CAAC,CAAC;IACJ;IAEA,OAAOA,MAAM;EACf,CAAC,CAAC;AACJ;AAEA,SAASI,qBAAqBA,CAAEF,YAAY,EAAE;EAC5C,IAAMS,iBAAiB,GAAGT,YAAY,CAACU,OAAO,CAAC,GAAG,CAAC;EACnD,IAAMC,kBAAkB,GAAGX,YAAY,CAACU,OAAO,CAAC,GAAG,CAAC;EACpD,IAAIP,MAAM,GAAG,EAAE;EACf,IAAIC,IAAI,GAAG,EAAE;EACb;EACA,IAAIK,iBAAiB,KAAK7B,aAAa,EAAE;IACvCwB,IAAI,GAAG,EAAE;IACTD,MAAM,GAAGH,YAAY;EACvB,CAAC,MAAM,IAAIS,iBAAiB,KAAK7B,aAAa,IAAI+B,kBAAkB,KAAK/B,aAAa,EAAE;IACtF,IAAMgC,OAAO,GAAGZ,YAAY,CAACP,KAAK,CAACgB,iBAAiB,GAAG,CAAC,EAAEE,kBAAkB,CAAC;IAC7EP,IAAI,GAAGQ,OAAO,CAACpB,KAAK,CAAC,GAAG,CAAC,CAACE,GAAG,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAACT,OAAO,CAACR,OAAO,EAAE,EAAE,CAAC;IAAA,EAAC;IACjEwB,MAAM,GAAGH,YAAY,CAACP,KAAK,CAAC,CAAC,EAAEgB,iBAAiB,CAAC;EACnD;EACA,OAAO;IAAEN,MAAM,EAANA,MAAM;IAAEC,IAAI,EAAJA;EAAK,CAAC;AACzB;AAEA,eAAevB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}