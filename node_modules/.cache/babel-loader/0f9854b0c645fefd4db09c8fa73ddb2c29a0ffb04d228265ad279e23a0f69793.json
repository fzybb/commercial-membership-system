{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.timers.js\";\nimport CubeLoading from '../loading/loading.vue';\nimport CubePopup from '../popup/popup.vue';\nimport visibilityMixin from '../../common/mixins/visibility';\nimport popupMixin from '../../common/mixins/popup';\nvar COMPONENT_NAME = 'cube-toast';\nvar EVENT_TIMEOUT = 'timeout';\nexport default {\n  name: COMPONENT_NAME,\n  mixins: [visibilityMixin, popupMixin],\n  props: {\n    type: {\n      type: String,\n      \"default\": 'loading'\n    },\n    icon: {\n      type: String,\n      \"default\": ''\n    },\n    mask: {\n      type: Boolean,\n      \"default\": false\n    },\n    txt: {\n      type: String,\n      \"default\": ''\n    },\n    time: {\n      type: Number,\n      \"default\": 3000\n    },\n    // By default, Toast has the bigest z-index among popoup-based components.\n    zIndex: {\n      type: Number,\n      \"default\": 900\n    }\n  },\n  computed: {\n    iconClass: function iconClass() {\n      var iconClass = [];\n      if (this.icon) {\n        iconClass.push(this.icon);\n      }\n      var classMap = {\n        correct: 'cubeic-right',\n        error: 'cubeic-wrong',\n        warn: 'cubeic-warn'\n      };\n      var icon = classMap[this.type];\n      if (icon) {\n        iconClass.push(icon);\n      }\n      return iconClass;\n    },\n    isLoading: function isLoading() {\n      return this.type === 'loading';\n    }\n  },\n  methods: {\n    maskClick: function maskClick() {\n      this.maskClosable && this.hide();\n    },\n    show: function show() {\n      var _this = this;\n      this.isVisible = true;\n      this.clearTimer();\n      this.$nextTick(function () {\n        if (_this.time !== 0) {\n          _this.timer = setTimeout(function () {\n            _this.hide();\n            _this.$emit(EVENT_TIMEOUT);\n          }, _this.time);\n        }\n      });\n    },\n    hide: function hide() {\n      this.isVisible = false;\n      this.clearTimer();\n    },\n    clearTimer: function clearTimer() {\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  },\n  components: {\n    CubePopup: CubePopup,\n    CubeLoading: CubeLoading\n  }\n};","map":{"version":3,"names":["CubeLoading","CubePopup","visibilityMixin","popupMixin","COMPONENT_NAME","EVENT_TIMEOUT","name","mixins","props","type","String","icon","mask","Boolean","txt","time","Number","zIndex","computed","iconClass","push","classMap","correct","error","warn","isLoading","methods","maskClick","maskClosable","hide","show","_this","isVisible","clearTimer","$nextTick","timer","setTimeout","$emit","clearTimeout","components"],"sources":["node_modules/cube-ui/src/components/toast/toast.vue"],"sourcesContent":["<template>\n  <transition name=\"cube-toast-fade\">\n    <cube-popup\n      type=\"toast\"\n      :z-index=\"zIndex\"\n      :mask=\"mask\"\n      v-show=\"isVisible\"\n      @mask-click=\"maskClick\"\n      >\n      <i v-if=\"!isLoading && iconClass.length\" class=\"cube-toast-icon\" :class=\"iconClass\"></i>\n      <cube-loading v-if=\"isLoading\"></cube-loading>\n      <div v-show=\"txt\" class=\"cube-toast-tip\" v-html=\"txt\"></div>\n    </cube-popup>\n  </transition>\n</template>\n<script type=\"text/ecmascript-6\">\n  import CubeLoading from '../loading/loading.vue'\n  import CubePopup from '../popup/popup.vue'\n  import visibilityMixin from '../../common/mixins/visibility'\n  import popupMixin from '../../common/mixins/popup'\n\n  const COMPONENT_NAME = 'cube-toast'\n\n  const EVENT_TIMEOUT = 'timeout'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [visibilityMixin, popupMixin],\n    props: {\n      type: {\n        type: String,\n        default: 'loading'\n      },\n      icon: {\n        type: String,\n        default: ''\n      },\n      mask: {\n        type: Boolean,\n        default: false\n      },\n      txt: {\n        type: String,\n        default: ''\n      },\n      time: {\n        type: Number,\n        default: 3000\n      },\n      // By default, Toast has the bigest z-index among popoup-based components.\n      zIndex: {\n        type: Number,\n        default: 900\n      }\n    },\n    computed: {\n      iconClass() {\n        const iconClass = []\n        if (this.icon) {\n          iconClass.push(this.icon)\n        }\n        const classMap = {\n          correct: 'cubeic-right',\n          error: 'cubeic-wrong',\n          warn: 'cubeic-warn'\n        }\n        const icon = classMap[this.type]\n        if (icon) {\n          iconClass.push(icon)\n        }\n        return iconClass\n      },\n      isLoading() {\n        return this.type === 'loading'\n      }\n    },\n    methods: {\n      maskClick() {\n        this.maskClosable && this.hide()\n      },\n      show() {\n        this.isVisible = true\n        this.clearTimer()\n        this.$nextTick(() => {\n          if (this.time !== 0) {\n            this.timer = setTimeout(() => {\n              this.hide()\n              this.$emit(EVENT_TIMEOUT)\n            }, this.time)\n          }\n        })\n      },\n      hide() {\n        this.isVisible = false\n        this.clearTimer()\n      },\n      clearTimer() {\n        clearTimeout(this.timer)\n        this.timer = null\n      }\n    },\n    components: {\n      CubePopup,\n      CubeLoading\n    }\n  }\n</script>\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  .cube-toast\n    &.cube-popup\n      z-index: 900\n    .cube-popup-content\n      display: flex\n      align-items: center\n      padding: 13px 16px\n      color: $toast-color\n      background-color: $toast-bgc\n      border-radius: 2px\n  .cube-toast-icon\n    width: 24px\n    height: 24px\n    font-size: $fontsize-large-xxx\n  .cube-toast-tip\n    line-height: 20px\n    font-size: $fontsize-medium\n    max-width: 12em\n    max-height: 40px\n    overflow: hidden\n  .cube-toast-icon, .cube-loading\n    ~ .cube-toast-tip\n      margin-left: 8px\n\n  .cube-toast-fade-enter-active\n    animation: toast-in .2s\n  .cube-toast-fade-leave-active\n    animation: toast-out .2s\n\n  @keyframes toast-in\n    0%\n      opacity: 0\n    100%\n      opacity: 1\n\n  @keyframes toast-out\n    0%\n      opacity: 1\n    100%\n      opacity: 0\n</style>\n"],"mappings":";;;AAgBA,OAAAA,WAAA;AACA,OAAAC,SAAA;AACA,OAAAC,eAAA;AACA,OAAAC,UAAA;AAEA,IAAAC,cAAA;AAEA,IAAAC,aAAA;AAEA;EACAC,IAAA,EAAAF,cAAA;EACAG,MAAA,GAAAL,eAAA,EAAAC,UAAA;EACAK,KAAA;IACAC,IAAA;MACAA,IAAA,EAAAC,MAAA;MACA;IACA;IACAC,IAAA;MACAF,IAAA,EAAAC,MAAA;MACA;IACA;IACAE,IAAA;MACAH,IAAA,EAAAI,OAAA;MACA;IACA;IACAC,GAAA;MACAL,IAAA,EAAAC,MAAA;MACA;IACA;IACAK,IAAA;MACAN,IAAA,EAAAO,MAAA;MACA;IACA;IACA;IACAC,MAAA;MACAR,IAAA,EAAAO,MAAA;MACA;IACA;EACA;EACAE,QAAA;IACAC,SAAA,WAAAA,UAAA;MACA,IAAAA,SAAA;MACA,SAAAR,IAAA;QACAQ,SAAA,CAAAC,IAAA,MAAAT,IAAA;MACA;MACA,IAAAU,QAAA;QACAC,OAAA;QACAC,KAAA;QACAC,IAAA;MACA;MACA,IAAAb,IAAA,GAAAU,QAAA,MAAAZ,IAAA;MACA,IAAAE,IAAA;QACAQ,SAAA,CAAAC,IAAA,CAAAT,IAAA;MACA;MACA,OAAAQ,SAAA;IACA;IACAM,SAAA,WAAAA,UAAA;MACA,YAAAhB,IAAA;IACA;EACA;EACAiB,OAAA;IACAC,SAAA,WAAAA,UAAA;MACA,KAAAC,YAAA,SAAAC,IAAA;IACA;IACAC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,SAAA;MACA,KAAAC,UAAA;MACA,KAAAC,SAAA;QACA,IAAAH,KAAA,CAAAhB,IAAA;UACAgB,KAAA,CAAAI,KAAA,GAAAC,UAAA;YACAL,KAAA,CAAAF,IAAA;YACAE,KAAA,CAAAM,KAAA,CAAAhC,aAAA;UACA,GAAA0B,KAAA,CAAAhB,IAAA;QACA;MACA;IACA;IACAc,IAAA,WAAAA,KAAA;MACA,KAAAG,SAAA;MACA,KAAAC,UAAA;IACA;IACAA,UAAA,WAAAA,WAAA;MACAK,YAAA,MAAAH,KAAA;MACA,KAAAA,KAAA;IACA;EACA;EACAI,UAAA;IACAtC,SAAA,EAAAA,SAAA;IACAD,WAAA,EAAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}