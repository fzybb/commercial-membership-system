{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { inBrowser } from '../../common/helpers/env';\nexport var URL = inBrowser ? window.URL || window.webkitURL || window.mozURL : null;\nexport var STATUS_READY = 'ready';\nexport var STATUS_UPLOADING = 'uploading';\nexport var STATUS_ERROR = 'error';\nexport var STATUS_SUCCESS = 'success';\nexport function processFiles(files, eachProcessFile, eachCb, cb) {\n  var fileItems = [];\n  var len = files.length;\n  var processedLen = 0;\n  for (var i = 0; i < len; i++) {\n    processFile(files[i], i, eachProcessFile, function (item, index) {\n      processedLen++;\n      fileItems[index] = item;\n      eachCb(item, index);\n      if (processedLen === len) {\n        return cb(fileItems);\n      }\n    });\n  }\n}\nexport function processFile(file, i, eachProcessFile, cb) {\n  eachProcessFile(file, function (file) {\n    var item = newFile(file.name, file.size, STATUS_READY, 0, file);\n    cb(item, i);\n  });\n}\nexport function newFile() {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var status = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var progress = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var file = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  var base64 = file && file.base64 || '';\n  var url = base64 ? '' : createURL(file);\n  return {\n    name: name,\n    size: size,\n    url: url,\n    base64: base64,\n    status: status,\n    progress: progress,\n    file: file\n  };\n}\nfunction createURL(file) {\n  if (file && URL) {\n    return URL.createObjectURL(file);\n  }\n  return '';\n}\nexport function evalOpts(data) {\n  if (typeof data === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return data.apply(this, args);\n  }\n  return data;\n}","map":{"version":3,"names":["inBrowser","URL","window","webkitURL","mozURL","STATUS_READY","STATUS_UPLOADING","STATUS_ERROR","STATUS_SUCCESS","processFiles","files","eachProcessFile","eachCb","cb","fileItems","len","length","processedLen","i","processFile","item","index","file","newFile","name","size","arguments","undefined","status","progress","base64","url","createURL","createObjectURL","evalOpts","data","_len","args","Array","_key","apply"],"sources":["C:/Users/fu_71/OneDrive/Desktop/fitness/frontend/node_modules/cube-ui/src/components/upload/util.js"],"sourcesContent":["import { inBrowser } from '../../common/helpers/env'\n\nexport const URL = inBrowser ? window.URL || window.webkitURL || window.mozURL : null\n\nexport const STATUS_READY = 'ready'\nexport const STATUS_UPLOADING = 'uploading'\nexport const STATUS_ERROR = 'error'\nexport const STATUS_SUCCESS = 'success'\n\nexport function processFiles(files, eachProcessFile, eachCb, cb) {\n  const fileItems = []\n  const len = files.length\n  let processedLen = 0\n  for (let i = 0; i < len; i++) {\n    processFile(files[i], i, eachProcessFile, function (item, index) {\n      processedLen++\n      fileItems[index] = item\n      eachCb(item, index)\n      if (processedLen === len) {\n        return cb(fileItems)\n      }\n    })\n  }\n}\n\nexport function processFile(file, i, eachProcessFile, cb) {\n  eachProcessFile(file, function (file) {\n    const item = newFile(file.name, file.size, STATUS_READY, 0, file)\n    cb(item, i)\n  })\n}\n\nexport function newFile(name = '', size = 0, status = '', progress = 0, file = null) {\n  const base64 = (file && file.base64) || ''\n  const url = base64 ? '' : createURL(file)\n\n  return {\n    name,\n    size,\n    url,\n    base64,\n    status,\n    progress,\n    file\n  }\n}\n\nfunction createURL(file) {\n  if (file && URL) {\n    return URL.createObjectURL(file)\n  }\n  return ''\n}\n\nexport function evalOpts(data, ...args) {\n  if (typeof data === 'function') {\n    return data.apply(this, args)\n  }\n  return data\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}