{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/fu_71/OneDrive/Desktop/fitness/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/fu_71/OneDrive/Desktop/fitness/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n//引入组件\nimport DetailHeader from './Components/Header';\nimport DetailCourse from './Components/Course';\nimport DetailTab from './Components/Tab';\nimport { getVideoDetail } from \"@/api/getData.js\";\nexport default {\n  //注册组件\n  components: {\n    DetailHeader: DetailHeader,\n    DetailCourse: DetailCourse,\n    DetailTab: DetailTab\n  },\n  data: function data() {\n    return {\n      //视频信息\n      videoInfo: {},\n      //章集\n      chapterList: []\n    };\n  },\n  methods: {\n    //获取视频详情\n    getDetail: function getDetail(vid) {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return getVideoDetail(vid);\n            case 3:\n              result = _context.sent;\n              if (result.data.code == 0) {\n                _this.videoInfo = result.data.data;\n                _this.chapterList = result.data.data.chapter_list;\n              }\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    //渲染完成后拿数据\n    console.log(this.$route.query.video_id);\n    this.getDetail(this.$route.query.video_id);\n  }\n};","map":{"version":3,"names":["DetailHeader","DetailCourse","DetailTab","getVideoDetail","components","data","videoInfo","chapterList","methods","getDetail","vid","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","sent","code","chapter_list","t0","console","log","stop","mounted","$route","query","video_id"],"sources":["src/views/CourseDetail/CourseDetail.vue"],"sourcesContent":["<template>\n    <div>\n        \n        <!--顶部返回组件-->\n        <detail-header :videoInfo=\"videoInfo\"></detail-header>\n\n        <!--视频介绍组件-->\n        <detail-course :videoInfo=\"videoInfo\"></detail-course>\n\n        <!--视频tab简介组件-->\n         <detail-tab :videoInfo=\"videoInfo\" :chapterList=\"chapterList\"></detail-tab> \n\n        <!--底部立刻购买-->\n        <footer>\n            <router-link :to=\"{path:'/pay',query:{video_id:this.$route.query.video_id}}\" class=\"user_buy\">\n                <button>立刻购买</button>            \n            </router-link>\n        </footer> \n\n    </div>\n</template>\n\n<script>\n//引入组件\nimport DetailHeader from './Components/Header'\nimport DetailCourse from './Components/Course'\nimport DetailTab from './Components/Tab'\n\nimport { getVideoDetail } from \"@/api/getData.js\";\n\n\nexport default {\n    //注册组件\n    components:{\n        DetailHeader,\n        DetailCourse,\n        DetailTab\n    },\n\n    data(){\n        return {\n            //视频信息\n            videoInfo:{},\n            //章集\n            chapterList:[]\n        }\n    },\n\n    methods:{\n        //获取视频详情\n        async getDetail(vid){\n            try{\n               const result =  await getVideoDetail(vid)\n               if(result.data.code == 0){\n                   this.videoInfo = result.data.data;\n                   this.chapterList = result.data.data.chapter_list;\n               }\n\n            }catch(error){\n                console.log(error)\n            }\n        }\n    },\n\n    mounted(){\n        //渲染完成后拿数据\n        console.log(this.$route.query.video_id)\n        this.getDetail(this.$route.query.video_id);\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n//底部\nfooter {\n  // fixed固定在底部\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  padding: 8px 0;\n  background-color: #fff;\n  z-index: 999;\n  box-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.05);\n}\n//设置购买按钮样式\nbutton {\n  display: block;\n  color: #fff;\n  margin: 0 auto;\n  background-color: #d93f30;\n  height: 34px;\n  line-height: 34px;\n  border-radius: 17px;\n  width: 80%;\n  border: none;\n  font-size: 15px;\n  text-align: center;\n}\n</style>"],"mappings":";;AAuBA;AACA,OAAAA,YAAA;AACA,OAAAC,YAAA;AACA,OAAAC,SAAA;AAEA,SAAAC,cAAA;AAGA;EACA;EACAC,UAAA;IACAJ,YAAA,EAAAA,YAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,SAAA,EAAAA;EACA;EAEAG,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,SAAA;MACA;MACAC,WAAA;IACA;EACA;EAEAC,OAAA;IACA;IACAC,SAAA,WAAAA,UAAAC,GAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,MAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAlB,cAAA,CAAAO,GAAA;YAAA;cAAAM,MAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,MAAA,CAAAX,IAAA,CAAAkB,IAAA;gBACAZ,KAAA,CAAAL,SAAA,GAAAU,MAAA,CAAAX,IAAA,CAAAA,IAAA;gBACAM,KAAA,CAAAJ,WAAA,GAAAS,MAAA,CAAAX,IAAA,CAAAA,IAAA,CAAAmB,YAAA;cACA;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAGAO,OAAA,CAAAC,GAAA,CAAAR,QAAA,CAAAM,EAAA;YAAA;YAAA;cAAA,OAAAN,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAEA;EACA;EAEAc,OAAA,WAAAA,QAAA;IACA;IACAH,OAAA,CAAAC,GAAA,MAAAG,MAAA,CAAAC,KAAA,CAAAC,QAAA;IACA,KAAAvB,SAAA,MAAAqB,MAAA,CAAAC,KAAA,CAAAC,QAAA;EAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}