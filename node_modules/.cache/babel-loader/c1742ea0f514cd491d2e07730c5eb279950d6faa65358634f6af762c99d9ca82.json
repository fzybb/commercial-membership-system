{"ast":null,"code":"import _typeof from \"C:/Users/fu_71/OneDrive/Desktop/fitness/frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { findIndex } from '../../common/helpers/util';\nimport localeMixin from '../../common/mixins/locale';\nvar COMPONENT_NAME = 'cube-select';\nvar EVENT_CHANGE = 'change';\nvar EVENT_INPUT = 'input'; // only used for v-model\nvar EVENT_PICKER_SHOW = 'picker-show';\nvar EVENT_PICKER_HIDE = 'picker-hide';\nexport default {\n  name: COMPONENT_NAME,\n  mixins: [localeMixin],\n  data: function data() {\n    return {\n      active: false\n    };\n  },\n  props: {\n    options: {\n      type: Array,\n      \"default\": function _default() {\n        /* istanbul ignore next */\n        return [];\n      }\n    },\n    value: null,\n    placeholder: {\n      type: String,\n      \"default\": ''\n    },\n    autoPop: {\n      type: Boolean,\n      \"default\": false\n    },\n    disabled: {\n      type: Boolean,\n      \"default\": false\n    },\n    title: {\n      type: String,\n      \"default\": ''\n    },\n    cancelTxt: {\n      type: String,\n      \"default\": ''\n    },\n    confirmTxt: {\n      type: String,\n      \"default\": ''\n    }\n  },\n  computed: {\n    adaptOptions: function adaptOptions() {\n      return [this.options.map(function (item) {\n        if (_typeof(item) !== 'object') {\n          item = {\n            value: item,\n            text: item\n          };\n        }\n        return item;\n      })];\n    },\n    valueIndex: function valueIndex() {\n      var val = this.value;\n      var index = findIndex(this.adaptOptions[0], function (item) {\n        return item.value === val;\n      });\n      this.picker && this.picker.setData(this.adaptOptions, index !== -1 ? [index] : [0]);\n      return index;\n    },\n    selectedIndex: function selectedIndex() {\n      return this.valueIndex !== -1 ? [this.valueIndex] : [0];\n    },\n    selectedText: function selectedText() {\n      return this.valueIndex !== -1 ? this.adaptOptions[0][this.valueIndex].text : '';\n    },\n    _placeholder: function _placeholder() {\n      return this.placeholder || this.$t('selectText');\n    },\n    _title: function _title() {\n      return this.title || this.$t('selectText');\n    },\n    _cancelTxt: function _cancelTxt() {\n      return this.cancelTxt || this.$t('cancel');\n    },\n    _confirmTxt: function _confirmTxt() {\n      return this.confirmTxt || this.$t('ok');\n    }\n  },\n  created: function created() {\n    this.picker = this.$createPicker({\n      $props: {\n        title: '_title',\n        data: 'adaptOptions',\n        selectedIndex: 'selectedIndex',\n        cancelTxt: '_cancelTxt',\n        confirmTxt: '_confirmTxt'\n      },\n      $events: {\n        select: 'selectHandler',\n        cancel: this.hided\n      }\n    });\n    this.autoPop && this.showPicker();\n  },\n  methods: {\n    showPicker: function showPicker() {\n      if (this.disabled) {\n        return;\n      }\n      this.picker.show();\n      this.active = true;\n      this.$emit(EVENT_PICKER_SHOW);\n    },\n    hided: function hided() {\n      this.active = false;\n      this.$emit(EVENT_PICKER_HIDE);\n    },\n    selectHandler: function selectHandler(selectedVal, selectedIndex, selectedText) {\n      this.hided();\n      if (selectedVal[0] !== this.value) {\n        this.$emit(EVENT_INPUT, selectedVal[0]);\n        this.$emit(EVENT_CHANGE, selectedVal[0], selectedIndex[0], selectedText[0]);\n      }\n    }\n  }\n};","map":{"version":3,"names":["findIndex","localeMixin","COMPONENT_NAME","EVENT_CHANGE","EVENT_INPUT","EVENT_PICKER_SHOW","EVENT_PICKER_HIDE","name","mixins","data","active","props","options","type","Array","_default","value","placeholder","String","autoPop","Boolean","disabled","title","cancelTxt","confirmTxt","computed","adaptOptions","map","item","_typeof","text","valueIndex","val","index","picker","setData","selectedIndex","selectedText","_placeholder","$t","_title","_cancelTxt","_confirmTxt","created","$createPicker","$props","$events","select","cancel","hided","showPicker","methods","show","$emit","selectHandler","selectedVal"],"sources":["node_modules/cube-ui/src/components/select/select.vue"],"sourcesContent":["<template>\n  <div class=\"cube-select\" :class=\"{ 'cube-select_active': active, 'cube-select_disabled': disabled }\" @click=\"showPicker\">\n    <span v-if=\"selectedText\" class=\"cube-select-text\">{{ selectedText }}</span>\n    <span v-else class=\"cube-select-placeholder\">{{ _placeholder }}</span>\n    <i class=\"cube-select-icon\"></i>\n  </div>\n</template>\n\n<script>\n  import { findIndex } from '../../common/helpers/util'\n  import localeMixin from '../../common/mixins/locale'\n\n  const COMPONENT_NAME = 'cube-select'\n\n  const EVENT_CHANGE = 'change'\n  const EVENT_INPUT = 'input' // only used for v-model\n  const EVENT_PICKER_SHOW = 'picker-show'\n  const EVENT_PICKER_HIDE = 'picker-hide'\n\n  export default {\n    name: COMPONENT_NAME,\n    mixins: [ localeMixin ],\n    data() {\n      return {\n        active: false\n      }\n    },\n    props: {\n      options: {\n        type: Array,\n        default() {\n          /* istanbul ignore next */\n          return []\n        }\n      },\n      value: null,\n      placeholder: {\n        type: String,\n        default: ''\n      },\n      autoPop: {\n        type: Boolean,\n        default: false\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      title: {\n        type: String,\n        default: ''\n      },\n      cancelTxt: {\n        type: String,\n        default: ''\n      },\n      confirmTxt: {\n        type: String,\n        default: ''\n      }\n    },\n    computed: {\n      adaptOptions() {\n        return [this.options.map(item => {\n          if (typeof item !== 'object') {\n            item = {\n              value: item,\n              text: item\n            }\n          }\n          return item\n        })]\n      },\n      valueIndex() {\n        const val = this.value\n        const index = findIndex(this.adaptOptions[0], (item) => {\n          return item.value === val\n        })\n        this.picker && this.picker.setData(this.adaptOptions, index !== -1 ? [index] : [0])\n\n        return index\n      },\n      selectedIndex() {\n        return this.valueIndex !== -1 ? [this.valueIndex] : [0]\n      },\n      selectedText() {\n        return this.valueIndex !== -1 ? this.adaptOptions[0][this.valueIndex].text : ''\n      },\n      _placeholder () {\n        return this.placeholder || this.$t('selectText')\n      },\n      _title () {\n        return this.title || this.$t('selectText')\n      },\n      _cancelTxt () {\n        return this.cancelTxt || this.$t('cancel')\n      },\n      _confirmTxt () {\n        return this.confirmTxt || this.$t('ok')\n      }\n    },\n    created() {\n      this.picker = this.$createPicker({\n        $props: {\n          title: '_title',\n          data: 'adaptOptions',\n          selectedIndex: 'selectedIndex',\n          cancelTxt: '_cancelTxt',\n          confirmTxt: '_confirmTxt'\n        },\n        $events: {\n          select: 'selectHandler',\n          cancel: this.hided\n        }\n      })\n      this.autoPop && this.showPicker()\n    },\n    methods: {\n      showPicker() {\n        if (this.disabled) {\n          return\n        }\n        this.picker.show()\n        this.active = true\n        this.$emit(EVENT_PICKER_SHOW)\n      },\n      hided() {\n        this.active = false\n        this.$emit(EVENT_PICKER_HIDE)\n      },\n      selectHandler(selectedVal, selectedIndex, selectedText) {\n        this.hided()\n        if (selectedVal[0] !== this.value) {\n          this.$emit(EVENT_INPUT, selectedVal[0])\n          this.$emit(EVENT_CHANGE, selectedVal[0], selectedIndex[0], selectedText[0])\n        }\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\">\n  @require \"../../common/stylus/variable.styl\"\n  @require \"../../common/stylus/mixin.styl\"\n\n  .cube-select\n    position: relative\n    box-sizing: border-box\n    padding: 10px 20px 10px 10px\n    border-radius: 2px\n    font-size: $fontsize-medium\n    line-height: 1.429\n    color: $select-color\n    background-color: $select-bgc\n    border-1px($select-border-color, 2px)\n    > span\n      display: inline-block\n  .cube-select_active\n    border-1px($select-border-active-color)\n    .cube-select-icon\n      transform: translate(0, -50%) rotate(180deg)\n  .cube-select_disabled\n    color: $select-disabled-color\n    background-color: $select-disabled-bgc\n    cursor: not-allowed\n  .cube-select-placeholder\n    color: $select-placeholder-color\n  .cube-select-icon\n    position: absolute\n    right: 8px\n    top: 50%\n    transform: translate(0, -50%)\n    border-style: solid\n    border-color: $select-icon-color transparent transparent transparent\n    border-width: 4px 4px 0 4px\n    transition: transform .3s ease-in-out\n</style>\n"],"mappings":";;AASA,SAAAA,SAAA;AACA,OAAAC,WAAA;AAEA,IAAAC,cAAA;AAEA,IAAAC,YAAA;AACA,IAAAC,WAAA;AACA,IAAAC,iBAAA;AACA,IAAAC,iBAAA;AAEA;EACAC,IAAA,EAAAL,cAAA;EACAM,MAAA,GAAAP,WAAA;EACAQ,IAAA,WAAAA,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,KAAA;IACAC,OAAA;MACAC,IAAA,EAAAC,KAAA;MAAA,oBAAAC,SAAA,EACA;QACA;QACA;MACA;IACA;IACAC,KAAA;IACAC,WAAA;MACAJ,IAAA,EAAAK,MAAA;MACA;IACA;IACAC,OAAA;MACAN,IAAA,EAAAO,OAAA;MACA;IACA;IACAC,QAAA;MACAR,IAAA,EAAAO,OAAA;MACA;IACA;IACAE,KAAA;MACAT,IAAA,EAAAK,MAAA;MACA;IACA;IACAK,SAAA;MACAV,IAAA,EAAAK,MAAA;MACA;IACA;IACAM,UAAA;MACAX,IAAA,EAAAK,MAAA;MACA;IACA;EACA;EACAO,QAAA;IACAC,YAAA,WAAAA,aAAA;MACA,aAAAd,OAAA,CAAAe,GAAA,WAAAC,IAAA;QACA,IAAAC,OAAA,CAAAD,IAAA;UACAA,IAAA;YACAZ,KAAA,EAAAY,IAAA;YACAE,IAAA,EAAAF;UACA;QACA;QACA,OAAAA,IAAA;MACA;IACA;IACAG,UAAA,WAAAA,WAAA;MACA,IAAAC,GAAA,QAAAhB,KAAA;MACA,IAAAiB,KAAA,GAAAjC,SAAA,MAAA0B,YAAA,eAAAE,IAAA;QACA,OAAAA,IAAA,CAAAZ,KAAA,KAAAgB,GAAA;MACA;MACA,KAAAE,MAAA,SAAAA,MAAA,CAAAC,OAAA,MAAAT,YAAA,EAAAO,KAAA,WAAAA,KAAA;MAEA,OAAAA,KAAA;IACA;IACAG,aAAA,WAAAA,cAAA;MACA,YAAAL,UAAA,gBAAAA,UAAA;IACA;IACAM,YAAA,WAAAA,aAAA;MACA,YAAAN,UAAA,eAAAL,YAAA,SAAAK,UAAA,EAAAD,IAAA;IACA;IACAQ,YAAA,WAAAA,aAAA;MACA,YAAArB,WAAA,SAAAsB,EAAA;IACA;IACAC,MAAA,WAAAA,OAAA;MACA,YAAAlB,KAAA,SAAAiB,EAAA;IACA;IACAE,UAAA,WAAAA,WAAA;MACA,YAAAlB,SAAA,SAAAgB,EAAA;IACA;IACAG,WAAA,WAAAA,YAAA;MACA,YAAAlB,UAAA,SAAAe,EAAA;IACA;EACA;EACAI,OAAA,WAAAA,QAAA;IACA,KAAAT,MAAA,QAAAU,aAAA;MACAC,MAAA;QACAvB,KAAA;QACAb,IAAA;QACA2B,aAAA;QACAb,SAAA;QACAC,UAAA;MACA;MACAsB,OAAA;QACAC,MAAA;QACAC,MAAA,OAAAC;MACA;IACA;IACA,KAAA9B,OAAA,SAAA+B,UAAA;EACA;EACAC,OAAA;IACAD,UAAA,WAAAA,WAAA;MACA,SAAA7B,QAAA;QACA;MACA;MACA,KAAAa,MAAA,CAAAkB,IAAA;MACA,KAAA1C,MAAA;MACA,KAAA2C,KAAA,CAAAhD,iBAAA;IACA;IACA4C,KAAA,WAAAA,MAAA;MACA,KAAAvC,MAAA;MACA,KAAA2C,KAAA,CAAA/C,iBAAA;IACA;IACAgD,aAAA,WAAAA,cAAAC,WAAA,EAAAnB,aAAA,EAAAC,YAAA;MACA,KAAAY,KAAA;MACA,IAAAM,WAAA,aAAAvC,KAAA;QACA,KAAAqC,KAAA,CAAAjD,WAAA,EAAAmD,WAAA;QACA,KAAAF,KAAA,CAAAlD,YAAA,EAAAoD,WAAA,KAAAnB,aAAA,KAAAC,YAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}