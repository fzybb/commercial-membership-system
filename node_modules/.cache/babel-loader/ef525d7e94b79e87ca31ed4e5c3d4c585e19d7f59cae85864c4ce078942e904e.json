{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport CubeSwipeItem from './swipe-item.vue';\nvar COMPONENT_NAME = 'cube-swipe';\nvar EVENT_ITEM_CLICK = 'item-click';\nvar EVENT_BTN_CLICK = 'btn-click';\nexport default {\n  name: COMPONENT_NAME,\n  provide: function provide() {\n    return {\n      swipe: this\n    };\n  },\n  props: {\n    data: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    },\n    autoShrink: {\n      type: Boolean,\n      \"default\": false\n    }\n  },\n  created: function created() {\n    this.activeIndex = -1;\n    this.items = [];\n  },\n  methods: {\n    addItem: function addItem(item) {\n      this.items.push(item);\n    },\n    removeItem: function removeItem(item) {\n      var index = this.items.indexOf(item);\n      this.items.splice(index, 1);\n      if (index <= this.activeIndex) {\n        this.activeIndex -= 1;\n      }\n    },\n    onItemClick: function onItemClick(item, index) {\n      this.$emit(EVENT_ITEM_CLICK, item, index);\n    },\n    onBtnClick: function onBtnClick(btn, index) {\n      var item = this.data[index];\n      this.$emit(EVENT_BTN_CLICK, btn, index, item);\n    },\n    onItemActive: function onItemActive(index) {\n      if (index === this.activeIndex) {\n        return;\n      }\n      if (this.activeIndex !== -1) {\n        var activeItem = this.items[this.activeIndex];\n        activeItem.shrink();\n      }\n      this.activeIndex = index;\n    }\n  },\n  components: {\n    CubeSwipeItem: CubeSwipeItem\n  }\n};","map":{"version":3,"names":["CubeSwipeItem","COMPONENT_NAME","EVENT_ITEM_CLICK","EVENT_BTN_CLICK","name","provide","swipe","props","data","type","Array","_default","autoShrink","Boolean","created","activeIndex","items","methods","addItem","item","push","removeItem","index","indexOf","splice","onItemClick","$emit","onBtnClick","btn","onItemActive","activeItem","shrink","components"],"sources":["node_modules/cube-ui/src/components/swipe/swipe.vue"],"sourcesContent":["<template>\n  <div class=\"cube-swipe\">\n    <slot>\n      <transition-group name=\"cube-swipe\" tag=\"ul\">\n        <li v-for=\"(item, index) in data\" :key=\"item.item.value\">\n          <cube-swipe-item\n            :btns=\"item.btns\"\n            :item=\"item.item\"\n            :index=\"index\"\n            :auto-shrink=\"autoShrink\" />\n        </li>\n      </transition-group>\n    </slot>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import CubeSwipeItem from './swipe-item.vue'\n\n  const COMPONENT_NAME = 'cube-swipe'\n  const EVENT_ITEM_CLICK = 'item-click'\n  const EVENT_BTN_CLICK = 'btn-click'\n\n  export default {\n    name: COMPONENT_NAME,\n    provide() {\n      return {\n        swipe: this\n      }\n    },\n    props: {\n      data: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      autoShrink: {\n        type: Boolean,\n        default: false\n      }\n    },\n    created() {\n      this.activeIndex = -1\n      this.items = []\n    },\n    methods: {\n      addItem(item) {\n        this.items.push(item)\n      },\n      removeItem(item) {\n        const index = this.items.indexOf(item)\n        this.items.splice(index, 1)\n        if (index <= this.activeIndex) {\n          this.activeIndex -= 1\n        }\n      },\n      onItemClick(item, index) {\n        this.$emit(EVENT_ITEM_CLICK, item, index)\n      },\n      onBtnClick(btn, index) {\n        const item = this.data[index]\n        this.$emit(EVENT_BTN_CLICK, btn, index, item)\n      },\n      onItemActive(index) {\n        if (index === this.activeIndex) {\n          return\n        }\n        if (this.activeIndex !== -1) {\n          const activeItem = this.items[this.activeIndex]\n          activeItem.shrink()\n        }\n        this.activeIndex = index\n      }\n    },\n    components: {\n      CubeSwipeItem\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .cube-swipe\n    overflow: hidden\n\n  .cube-swipe-enter-active, .cube-swipe-leave-active\n    transition: all 0.3s\n    .cube-swipe-item-inner\n      transition: all 0.3s\n\n  .cube-swipe-enter, .cube-swipe-leave-to\n    .cube-swipe-item-inner\n      height: 0\n</style>\n"],"mappings":";;;AAiBA,OAAAA,aAAA;AAEA,IAAAC,cAAA;AACA,IAAAC,gBAAA;AACA,IAAAC,eAAA;AAEA;EACAC,IAAA,EAAAH,cAAA;EACAI,OAAA,WAAAA,QAAA;IACA;MACAC,KAAA;IACA;EACA;EACAC,KAAA;IACAC,IAAA;MACAC,IAAA,EAAAC,KAAA;MAAA,oBAAAC,SAAA,EACA;QACA;MACA;IACA;IACAC,UAAA;MACAH,IAAA,EAAAI,OAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;IACA,KAAAC,KAAA;EACA;EACAC,OAAA;IACAC,OAAA,WAAAA,QAAAC,IAAA;MACA,KAAAH,KAAA,CAAAI,IAAA,CAAAD,IAAA;IACA;IACAE,UAAA,WAAAA,WAAAF,IAAA;MACA,IAAAG,KAAA,QAAAN,KAAA,CAAAO,OAAA,CAAAJ,IAAA;MACA,KAAAH,KAAA,CAAAQ,MAAA,CAAAF,KAAA;MACA,IAAAA,KAAA,SAAAP,WAAA;QACA,KAAAA,WAAA;MACA;IACA;IACAU,WAAA,WAAAA,YAAAN,IAAA,EAAAG,KAAA;MACA,KAAAI,KAAA,CAAAxB,gBAAA,EAAAiB,IAAA,EAAAG,KAAA;IACA;IACAK,UAAA,WAAAA,WAAAC,GAAA,EAAAN,KAAA;MACA,IAAAH,IAAA,QAAAX,IAAA,CAAAc,KAAA;MACA,KAAAI,KAAA,CAAAvB,eAAA,EAAAyB,GAAA,EAAAN,KAAA,EAAAH,IAAA;IACA;IACAU,YAAA,WAAAA,aAAAP,KAAA;MACA,IAAAA,KAAA,UAAAP,WAAA;QACA;MACA;MACA,SAAAA,WAAA;QACA,IAAAe,UAAA,QAAAd,KAAA,MAAAD,WAAA;QACAe,UAAA,CAAAC,MAAA;MACA;MACA,KAAAhB,WAAA,GAAAO,KAAA;IACA;EACA;EACAU,UAAA;IACAhC,aAAA,EAAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}